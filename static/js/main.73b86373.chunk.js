(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{28:function(e,t,a){e.exports={makerShadow:"rgba(217, 217, 217, 1)",makerBlack:"black",makerWhite:"white",makerColorful:"linear-gradient(166deg, rgba(237, 193, 211, 1) 0%,rgba(212, 149, 161, 1) 60%, rgba(162, 63, 63, 1) 100%, rgba(127, 188, 242, 1) 100%)",makerWheat:"wheat",card:"card_card__1py-W",dark:"card_dark__1FdRe",light:"card_light__1Cc6G",colorful:"card_colorful__2zruV",avatar:"card_avatar__33lzN",info:"card_info__2Fslj",name:"card_name__31aE7",company:"card_company__3UM9t",title:"card_title__25_dG",email:"card_email__3uHYI",message:"card_message__2dRnZ"}},30:function(e,t,a){e.exports={makerBlack:"black",makerWhite:"white",form:"card_add_form_form__1mJeN",input:"card_add_form_input__1s9KG",textarea:"card_add_form_textarea__3OTfu",select:"card_add_form_select__2br_K",button:"card_add_form_button__3PkX4",fileInput:"card_add_form_fileInput__R7REj"}},31:function(e,t,a){e.exports={makerBlack:"black",makerWhite:"white",form:"card_edit_form_form__2xQD4",input:"card_edit_form_input__uur0a",textarea:"card_edit_form_textarea__1-v1B",select:"card_edit_form_select__V3wH9",button:"card_edit_form_button__3Jpk4",fileInput:"card_edit_form_fileInput__3mXDK"}},37:function(e,t,a){e.exports={makerLightPink:"#ffeae8",makerLightGrey:"#e8e7e6",container:"image_file_input_container__3Eqtx",input:"image_file_input_input__1K4NM",button:"image_file_input_button__3E8sw",noImg:"image_file_input_noImg__2yUXX",selectedImg:"image_file_input_selectedImg__3VOiw"}},39:function(e,t,a){e.exports={makerBlack:"black",makerGreen:"#385461",makerWhite:"white",header:"header_header__v9FKw",headerImg:"header_headerImg__15BqK",headerText:"header_headerText__351ni",logout:"header_logout__1MXam"}},45:function(e,t,a){e.exports={makerWhite:"white",makerGreen:"#385461",makerLightPink:"#ffeae8",login:"login_login__19aQM",button:"login_button__Fi6x4"}},46:function(e,t,a){e.exports={makerGreen:"#385461",preview:"preview_preview__3lr-V",title:"preview_title__3zLS1",cards:"preview_cards__1KzyC"}},49:function(e,t,a){e.exports={makerGreen:"#385461",makerWhite:"white",footer:"footer_footer__1lZIc",footerText:"footer_footerText__3-u_n"}},50:function(e,t,a){e.exports={makerGreen:"#385461",makerLightGrey:"#e8e7e6",makerGrey:"#626262",mediaQuery:"62rem",editor:"editor_editor__1nHIK",title:"editor_title__21REx"}},51:function(e,t,a){e.exports={mediaQuery:"62rem",makerWhite:"white",maker:"maker_maker__1Jsum",makerContents:"maker_makerContents__yx05-"}},53:function(e,t,a){e.exports={app:"app_app__cewju"}},54:function(e,t,a){e.exports={makerWhite:"white",makerGreen:"#385461",button:"button_button__3_GL1"}},60:function(e,t,a){e.exports={makerGrey:"#626262"}},67:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a(13),c=a.n(r),i=a(52),s=a.n(i),o=(a(60),a(45)),u=a.n(o),l=a(39),d=a.n(l),m=a(10),j=function(e){var t=e.onLogout;return Object(m.jsxs)("header",{className:d.a.header,children:[t&&Object(m.jsx)("button",{className:d.a.logout,onClick:t,children:"Logout"}),Object(m.jsx)("img",{className:d.a.headerImg,src:"/images/logo.png",alt:"logo"}),Object(m.jsx)("h2",{className:d.a.headerText,children:"Business Card Maker"})]})},f=a(49),_=a.n(f),p=function(e){return Object(m.jsx)("footer",{className:_.a.footer,children:Object(m.jsx)("p",{className:_.a.footerText,children:"Code your dream"})})},b=a(17),h=function(e){var t=e.authService,a=Object(b.f)(),n=function(e){a("/maker",{state:{id:e}})},c=function(e){t.login(e.currentTarget.textContent).then((function(e){return n(e.user.uid)}))};return Object(r.useEffect)((function(){t.onAuthChange((function(e){e&&n(e.uid)}))})),Object(m.jsxs)("section",{className:u.a.login,children:[Object(m.jsx)(j,{}),Object(m.jsx)("h1",{children:"Login"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)("button",{className:u.a.button,onClick:c,children:"Google"})}),Object(m.jsx)("li",{children:Object(m.jsx)("button",{className:u.a.button,onClick:c,children:"Github"})})]}),Object(m.jsx)(p,{})]})},O=a(53),x=a.n(O),g=a(55),v=a(16),k=a(30),N=a.n(k),y=a(54),C=a.n(y),w=function(e){var t=e.name,a=e.onClick;return Object(m.jsx)("button",{className:C.a.button,onClick:a,children:t})},I=function(e){var t=e.onAdd,a=e.FileInput,n=Object(r.useRef)(),c=Object(r.useRef)(),i=Object(r.useRef)(),s=Object(r.useRef)(),o=Object(r.useRef)(),u=Object(r.useRef)(),l=Object(r.useRef)(),d=Object(r.useState)({fileName:null,fileURL:null}),j=Object(v.a)(d,2),f=j[0],_=j[1];return Object(m.jsxs)("form",{ref:n,className:N.a.form,children:[Object(m.jsx)("input",{ref:c,className:N.a.input,type:"text",name:"name",placeholder:"Name"}),Object(m.jsx)("input",{ref:i,className:N.a.input,type:"text",name:"company",placeholder:"Company"}),Object(m.jsxs)("select",{ref:s,className:N.a.select,name:"theme",children:[Object(m.jsx)("option",{value:"dark",children:"Dark"}),Object(m.jsx)("option",{value:"light",children:"Light"}),Object(m.jsx)("option",{value:"colorful",children:"Colorful"})]}),Object(m.jsx)("input",{ref:o,className:N.a.input,type:"text",name:"title",placeholder:"Title"}),Object(m.jsx)("input",{ref:u,className:N.a.input,type:"text",name:"email",placeholder:"Email"}),Object(m.jsx)("textarea",{ref:l,className:N.a.textarea,name:"message",placeholder:"Message"}),Object(m.jsx)("div",{className:N.a.fileInput,children:Object(m.jsx)(a,{onFileChange:function(e){_({fileName:e.name,fileURL:e.url})},name:f.fileName})}),Object(m.jsx)(w,{name:"Add",onClick:function(e){e.preventDefault();var a={id:Date.now(),name:c.current.value||"",company:i.current.value||"",theme:s.current.value,title:o.current.value||"",email:u.current.value||"",message:l.current.value||"",fileName:f.fileName||"",fileURL:f.fileURL||""};n.current.reset(),_({fileName:null,fileURL:null}),t(a)}})]})},R=a(5),L=a(31),F=a.n(L),S=function(e){var t=e.card,a=e.updateCard,c=e.onDelete,i=e.FileInput,s=Object(r.useRef)(),o=Object(r.useRef)(),u=Object(r.useRef)(),l=Object(r.useRef)(),d=Object(r.useRef)(),j=Object(r.useRef)(),f=Object(r.useRef)(),_=t.name,p=t.company,b=t.title,h=t.email,O=t.message,x=t.theme,g=t.fileName,v=function(e){null!=e.currentTarget&&(e.preventDefault(),a(Object(n.a)(Object(n.a)({},t),{},Object(R.a)({},e.currentTarget.name,e.currentTarget.value))))};return Object(m.jsxs)("form",{ref:s,className:F.a.form,children:[Object(m.jsx)("input",{ref:o,onChange:v,className:F.a.input,type:"text",name:"name",value:_}),Object(m.jsx)("input",{ref:u,onChange:v,className:F.a.input,type:"text",name:"company",value:p}),Object(m.jsxs)("select",{ref:l,onChange:v,className:F.a.select,name:"theme",value:x,children:[Object(m.jsx)("option",{value:"dark",children:"Dark"}),Object(m.jsx)("option",{value:"light",children:"Light"}),Object(m.jsx)("option",{value:"colorful",children:"Colorful"})]}),Object(m.jsx)("input",{ref:d,onChange:v,className:F.a.input,type:"text",name:"title",value:b}),Object(m.jsx)("input",{ref:j,onChange:v,className:F.a.input,type:"text",name:"email",value:h}),Object(m.jsx)("textarea",{ref:f,onChange:v,className:F.a.textarea,name:"message",value:O}),Object(m.jsx)("div",{className:F.a.fileInput,children:Object(m.jsx)(i,{onFileChange:function(e){a(Object(n.a)(Object(n.a)({},t),{},{fileName:e.name,fileURL:e.url}))},name:g})}),Object(m.jsx)(w,{name:"Delete",onClick:function(){c(t)}})]})},G=a(50),D=a.n(G),T=function(e){var t=e.cards,a=e.addCard,n=e.deleteCard,r=e.updateCard,c=e.FileInput;return Object(m.jsxs)("section",{className:D.a.editor,children:[Object(m.jsx)("h1",{className:D.a.title,children:"Card Maker"}),Object.keys(t).map((function(e){return Object(m.jsx)(S,{card:t[e],onDelete:n,updateCard:r,FileInput:c},e)})),Object(m.jsx)(I,{onAdd:a,FileInput:c})]})},W=a(28),A=a.n(W);function U(e){switch(e){case"dark":return A.a.dark;case"light":return A.a.light;case"colorful":return A.a.colorful;default:throw new Error("unknown theme: ".concat(e))}}var B=function(e){var t=e.card,a=t.name,n=t.company,r=t.title,c=t.email,i=t.message,s=t.theme,o=t.fileURL||"/images/default_logo.png";return Object(m.jsxs)("li",{className:"".concat(A.a.card," ").concat(U(s)),children:[Object(m.jsx)("input",{type:"image",className:A.a.avatar,src:o,alt:"profile photo"}),Object(m.jsxs)("div",{className:A.a.info,children:[Object(m.jsx)("h1",{className:A.a.name,children:a}),Object(m.jsx)("p",{className:A.a.company,children:n}),Object(m.jsx)("p",{className:A.a.title,children:r}),Object(m.jsx)("p",{className:A.a.email,children:c}),Object(m.jsx)("p",{className:A.a.message,children:i})]})]})},E=a(46),K=a.n(E),M=function(e){var t=e.cards;return Object(m.jsxs)("section",{className:K.a.preview,children:[Object(m.jsx)("h1",{className:K.a.title,children:"Card Preview"}),Object(m.jsx)("ul",{className:K.a.cards,children:Object.keys(t).map((function(e){return Object(m.jsx)(B,{card:t[e]},e)}))})]})},P=a(51),q=a.n(P),z=function(e){var t,a=e.authService,c=e.FileInput,i=e.cardRepository,s=null===(t=Object(b.e)())||void 0===t?void 0:t.state,o=Object(r.useState)({}),u=Object(v.a)(o,2),l=u[0],d=u[1],f=Object(r.useState)(s&&s.id),_=Object(v.a)(f,2),h=_[0],O=_[1],x=Object(b.f)();Object(r.useEffect)((function(){a.onAuthChange((function(e){e?O(e.uid):x("/")}))})),Object(r.useEffect)((function(){if(h){var e=i.syncCards(h,(function(e){d(e)}));return function(){return e()}}}),[h]);var g=function(e){d((function(t){var a=Object(n.a)({},t);return a[e.id]=e,a})),i.saveCard(h,e)};return Object(m.jsxs)("section",{className:q.a.maker,children:[Object(m.jsx)(j,{onLogout:function(){a.logout()}}),Object(m.jsxs)("div",{className:q.a.makerContents,children:[Object(m.jsx)(T,{cards:l,addCard:g,deleteCard:function(e){d((function(t){var a=Object(n.a)({},t);return delete a[e.id],a})),i.removeCard(h,e)},updateCard:g,FileInput:c}),Object(m.jsx)(M,{cards:l})]}),Object(m.jsx)(p,{})]})};var J=function(e){var t=e.authService,a=e.FileInput,n=e.cardRepository;return Object(m.jsx)("div",{className:x.a.app,children:Object(m.jsx)(g.a,{children:Object(m.jsxs)(b.c,{children:[Object(m.jsx)(b.a,{path:"/",element:Object(m.jsx)(h,{authService:t})}),Object(m.jsx)(b.a,{path:"/maker",element:Object(m.jsx)(z,{authService:t,FileInput:a,cardRepository:n})})]})})})},Q=a(2),X=a(4),V=a(36),H=V.a.initializeApp({apiKey:"AIzaSyATw2c1kgCucBc0WBApNnKYFQIWPSDeBek",authDomain:"business-card-mmker.firebaseapp.com",databaseURL:"https://business-card-mmker-default-rtdb.firebaseio.com",projectId:"business-card-mmker"}),Y=function(){function e(){Object(Q.a)(this,e)}return Object(X.a)(e,[{key:"login",value:function(e){var t=new(V.a.auth["".concat(e,"AuthProvider")]);return H.auth().signInWithPopup(t)}},{key:"onAuthChange",value:function(e){V.a.auth().onAuthStateChanged((function(t){e(t)}))}},{key:"logout",value:function(){V.a.auth().signOut()}}]),e}(),Z=a(0),$=a.n(Z),ee=a(3),te=function(){function e(){Object(Q.a)(this,e)}return Object(X.a)(e,[{key:"upload",value:function(){var e=Object(ee.a)($.a.mark((function e(t){var a,n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.cloudinary.com/v1_1/dc8hqqxnw/image/upload",(a=new FormData).append("file",t),a.append("upload_preset","ugjbzqyl"),e.next=6,fetch("https://api.cloudinary.com/v1_1/dc8hqqxnw/image/upload",{method:"POST",body:a});case 6:return n=e.sent,e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ae=a(37),ne=a.n(ae),re=function(e){var t=e.imageUploader,a=e.name,n=e.onFileChange,c=Object(r.useRef)(),i=Object(r.useState)(!1),s=Object(v.a)(i,2),o=s[0],u=s[1],l=function(){var e=Object(ee.a)($.a.mark((function e(a){var r;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,t.upload(a.target.files[0]);case 3:r=e.sent,u(!1),n({name:r.original_filename,url:r.url});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:ne.a.container,children:[Object(m.jsx)("input",{ref:c,className:ne.a.input,type:"file",accept:"image/*",name:"file",onChange:l}),Object(m.jsx)("button",{className:"".concat(ne.a.button," ").concat(a?ne.a.selectedImg:ne.a.noImg),onClick:function(e){e.preventDefault(),c.current.click()},children:!0===o?Object(m.jsx)("div",{children:Object(m.jsx)("i",{className:"fas fa-spinner fa-spin"})}):a||"No file"})]})},ce=(a(64),function(){function e(){Object(Q.a)(this,e)}return Object(X.a)(e,[{key:"saveCard",value:function(e,t){H.database().ref("".concat(e,"/cards/").concat(t.id)).set(t)}},{key:"removeCard",value:function(e,t){H.database().ref("".concat(e,"/cards/").concat(t.id)).remove()}},{key:"syncCards",value:function(e,t){var a=H.database().ref("".concat(e,"/cards"));return a.on("value",(function(e){var a=e.val();a&&t(a)})),function(){return a.off()}}}]),e}()),ie=new Y,se=new ce,oe=new te;s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(J,{authService:ie,FileInput:function(e){return Object(m.jsx)(re,Object(n.a)(Object(n.a)({},e),{},{imageUploader:oe}))},cardRepository:se})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.73b86373.chunk.js.map